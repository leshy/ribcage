// Generated by CoffeeScript 1.8.0
(function() {
  var CoffeeScript, async, logger, path, _;

  path = require('path');

  CoffeeScript = require('coffee-script');

  logger = require('logger2');

  async = require('async');

  _ = require('underscore');

  exports.init = function(settings, callback) {
    var coffee, env;
    if (settings.constructor === Function) {
      callback = settings;
      settings = {};
    }
    env = {
      settings: settings
    };
    env.root = path.dirname(require.main.filename);
    if (fs.existsSync(env.root + '/settings.coffee')) {
      coffee = fs.readFileSync(env.root + '/settings.coffee');
      fs.writeFileSync(envroot + '/settings.js', CoffeeScript.compile(coffee));
    }
    if (fs.existsSync(env.root + '/settings.js')) {
      return _.extend(settings, require('./settings').settings);
    }
  };

}).call(this);
